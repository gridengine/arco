<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

</head>
<body>

<h1><font color="#336699">ARCo FAQs</font></h1>

<ul>

  <li> <a href="#Can_the_database_connection_para">Can
the database connection parameters for the dbwriter be changed?</a>
  </li>

  <li> <a href="#Can_the_database_connection_para">Can
the database connection parameters for the ARCo web application be
changed?</a>
  </li>

  <li> <a href="#How_can_I_get_metrics_from_the_d">How
can I get metrics from the dbwriter?</a>
  </li>

  <li> <a href="#How_do_I_change_the_debug_level">How
do I change the debug level of the dbwriter?</a>
  </li>

  <li> <a href="#How_to_import_an_accounting_file">How
to import an accounting file into the ARCo database?</a>
  </li>

  <li> <a href="#Can_not_save_any_query_in_ARCo">Can
not save any query in ARCo</a>
  </li>

  <li> <a href="#How_to_get_the_version_of_the_in">How
to get the version of the installed ARCo database model?</a>
  </li>

  <li> <a href="#How_do_I_query_the_average_cpu_u">How
do I query the average cpu usage of all jobs requesting resource 'foo'</a>
  </li>

  <li> <a href="#Installation_description_of_Dunc">Installation
description of Duncan Hardie and Peter Jenkins</a>
  </li>

  <li> <a href="#Installation_with_Oracle">Installation
with Oracle</a>
  </li>

  <li> <a href="#Installation_from_http_www_Blast">Installation
from </a><a href="http://www.Blastwave.org" target="_top">http://www.Blastwave.org</a></li>

  <li><a href="#Sample_queries">Sample Queries</a></li>

  <li> <a href="#ARCo_View_Definitions">ARCo
View Definitions</a>
    <ul>

      <li> <a href="#view_accounting">view_accounting</a>
      </li>

      <li> <a href="#view_job_times">view_job_times</a>
      </li>

      <li> <a href="#view_jobs_completed">view_jobs_completed</a>
      </li>

      <li> <a href="#view_job_log">view_job_log</a>
      </li>

      <li> <a href="#view_department_values">view_department_values</a>
      </li>

      <li> <a href="#view_group_values">view_group_values</a>
      </li>

      <li> <a href="#view_host_values">view_host_values</a>
      </li>

      <li> <a href="#view_project_values">view_project_values</a>
      </li>

      <li> <a href="#view_queue_values">view_queue_values</a>
      </li>

      <li> <a href="#view_user_values">view_user_values</a>
      </li>

    </ul>

  </li>

</ul>

<p>
</p>

<br>

<h3><a name="Can_the_database_connection_para"></a>Can
the database connection parameters for the dbwriter be changed? </h3>

<p>
The database connection parameters for the dbwriter are stored in
$SGE_ROOT/$SGE_CELL/default/common/dbwriter.conf:
</p>

<pre>...<br>#<br># Password of the database user<br>#<br>DBWRITER_USER_PW='secret'<br><br>#<br># Name of the database user<br>#<br>DBWRITER_USER='arco_write'<br><br>#<br># JDBC URL to database<br>#<br>DBWRITER_URL='jdbc:postgresql://balin:5432/arco'<br>...<br></pre>

<h3><a name="Can_the_database_connection_para"> </a>
Can the database connection parameters for the ARCo web application be
changed? </h3>

<p>
The connection parameter for the ARCO web application has a
configuration file. Use the smreg
commands of the java webconsole to determine the location of this
configuration file:
</p>

<pre># smreg list -p<br>...<br>arco_config_file=/var/opt/webconsole/webapps/reporting/config.xml<br>...<br># more /var/opt/webconsole/webapps/reporting/config.xml<br>&lt;configuration&gt;<br> &lt;database name="arco" host="foo.bar" port="5432" schema="public"&gt;<br> &lt;driver type="postgresql"&gt;<br><br> &lt;javaClass&gt;org.postgresql.Driver&lt;/javaClass&gt;<br> &lt;/driver&gt;<br> &lt;user name="arco_read" passwd="cd8213ae06d057cbbbfd67e63fb5d13e" <br> maxConnections="10"/&gt;<br> &lt;/database&gt;<br>...<br></pre>

<p>
The password is encrypted with the dbpwd util.
</p>

<h3><a name="How_can_I_get_metrics_from_the_d"> </a>
How can I get metrics from the dbwriter? </h3>

<p>
If the dbwriter is running in debug level INFO it prints after the
import of a reporting file the number of processed lines and how long
it takes.
</p>

<pre>02/02/2006 07:23:57|foo.bar|ile.ReportFileReader.parseFile|I|Processed 63 lines in 2.22s (28.34 lines/s)<br></pre>

<p>
You can find the log file add
$SGE_ROOT/$SGE_CELL/spool/dbwriter/dbwriter.log
</p>

<h3><a name="How_do_I_change_the_debug_level"> </a><a name="How_do_I_change_the_debug_level_"> </a> How do
I change the debug level of the dbwriter? </h3>

<p>
The debug level of the dbwriter is defined in the dbwriter
configuration file ($SGE_ROOT/$SGE_CELL/common/dbwriter.conf).
</p>

<pre>...<br>#<br># Debug level<br># Valid values: WARNING, INFO, CONFIG, FINE, FINER, FINEST, ALL<br>#<br>DBWRITER_DEBUG='FINE'<br>...<br></pre>

<p>
After changing the dbwriter configuration file you have to restart the
dbwriter.
</p>

<h3><a name="How_to_import_an_accounting_file"> </a>
How to import an accounting file into the ARCo database? </h3>

<p>
With the <a href="contrib/acct2reporting.sh" target="_top">acct2reporting.sh</a> conversion script
it is possible to convert an accouting file into a reporting file.
Output of the script can be imported by the dbwriter.
</p>

<p><strong>Warning</strong>: The import of the
accouting file is only recommened if an empty
database is used. Importing the accouting file into existing data will
result in
database conflicts.
However it is a good possiblity to import historical data installation
into the ARCo modul. </p>

<ul>

  <li> Before running the script acct2reporting.sh, please
ensure, that the dbwriter is stopped and the reporting and accouting
mechanism is switched off:
  </li>

</ul>

<pre> # $SGE_ROOT/$SGE_CELL/common/sgedbwriter stop<br> # qconf -mconf<br>reporting_params accounting=false reporting=false \<br> flush_time=00:00:02 joblog=true sharelog=00:10:00<br><br></pre>

<ul>

  <li> Run the acct2reporting.sh. Save the output in
$SGE_ROOT/$SGE_CELL/common/reporting_from_accouting
  </li>

</ul>

<pre> # acct2reporting.sh $SGE_ROOT/$SGE_CELL/common/accounting &gt; $SGE_ROOT/$SGE_CELL/common/reporting_from_accouting<br></pre>

<ul>

  <li> Reconfigure the dbwriter (he should process
$SGE_ROOT/$SGE_CELL/common/reporting_from_accouting instead of
$SGE_ROOT/$SGE_CELL/common/reporting
  </li>

</ul>

<pre># vi $SGE_ROOT/$SGE_CELL/common/dbwriter.conf<br>...<br>- DBWRITER_REPORTING_FILE=$SGE_ROOT/$SGE_CELL/common/reporting<br>+ DBWRITER_REPORTING_FILE=$SGE_ROOT/$SGE_CELL/common/reporting_from_accouting<br></pre>

<ul>

  <li> Start the dbwriter. The reporting_from_accouting will be
renamed into reporting_from_accouting.processing. The dbwriter will
delete the reporting_from_accouting.processing file if it is imported.
Any errors will be reported into
$SGE_ROOT/$SGE_CELL/spool/dbwriter/dbwriter.log.
  </li>

</ul>

<pre> # $SGE_ROOT/$SGE_CELL/common/sgedbwriter start<br></pre>

<ul>

  <li> Now the accouting and reporting mechanism can be switched
on:
  </li>

</ul>

<pre> # qconf -mconf<br>reporting_params accounting=true reporting=true \<br> flush_time=00:00:02 joblog=true sharelog=00:10:00<br></pre>

<ul>

  <li> Do not forget to reset the configuration of the dbwriter
default values after the import
  </li>

</ul>

<pre> # $SGE_ROOT/$SGE_CELL/common/sgedbwriter stop<br> # vi $SGE_ROOT/$SGE_CELL/common/dbwriter.conf<br> ...<br> - DBWRITER_REPORTING_FILE=$SGE_ROOT/$SGE_CELL/common/reporting_from_accouting<br> + DBWRITER_REPORTING_FILE=$SGE_ROOT/$SGE_CELL/common/reporting<br> # $SGE_ROOT/$SGE_CELL/common/sgedbwriter start<br> <br><br></pre>

<h3><a name="Can_not_save_any_query_in_ARCo"> </a>
Can not save any query in ARCo </h3>

<p>
During the installation of the ARCo reporting module the users is asked<br>

to enter a list of users which as write permissions to the
ARCo system.
</p>

<pre># ./inst_reporting<br>...<br>Configure users with write access<br>---<br><br>Users: sgeadmin<br>Enter a login name of a user (Press enter to finish) &gt;&gt; anotheruser<br><br>Users: sgeadmin anotheruser<br>Enter a login name of a user (Press enter to finish) &gt;&gt;<br><br>All parameters are now collected<br>---<br>....<br></pre>

<p>
Only those users are allowed save modifications on ARCo.<br>

The list of the users is stored in
/var/opt/webconsole/webapps/reporting/config.xml.
</p>

<pre>% cat /var/opt/webconsole/webapps/reporting/config.xml<br></pre>

<pre>&lt;configuration&gt;<br> &lt;!--<br> Configure the database connection to be used by the application<br> --&gt;<br> &lt;database name="arco" host="vdr" port="5432" schema="public"&gt;<br><br> &lt;driver type="postgresql"&gt;<br> &lt;javaClass&gt;org.postgresql.Driver&lt;/javaClass&gt;<br> &lt;/driver&gt;<br> &lt;user name="arco_read" passwd="cd8213ae06d057cbbbfd67e63fb5d13e" maxConnections="10"/&gt;<br> &lt;/database&gt;<br><br> &lt;applUser&gt;sgeadmin&lt;/applUser&gt;<br> &lt;applUser&gt;anotheruser&lt;/applUser&gt;<br> &lt;storage&gt;<br> &lt;root&gt;/var/spool/arco&lt;/root&gt;<br><br> &lt;queries&gt;queries&lt;/queries&gt;<br> &lt;results&gt;results&lt;/results&gt;<br> &lt;/storage&gt;<br>&lt;/configuration&gt;<br>&lt;/pre&gt;<br><br></pre>

<p>
Edit this file to add or delete users. After editing this file you have
to restart the sun webconsole
</p>

<pre># smcwebserver restart<br></pre>

<h3><a name="How_to_get_the_version_of_the_in"> </a>
How to get the version of the installed ARCo database model? </h3>

With N1GE6u1 the table <strong>sge_version</strong> was
introduced. This table contains
<p>the installed versions of the ARCo database model.
</p>

<p>
<table border="1" width="70%">

  <tbody>

    <tr>

      <th>ColumnName</th>

      <th>Description</th>

    </tr>

    <tr>

      <td> v_id </td>

      <td> version id (with N1GE6u1 the version id has been set
to 1) </td>

    </tr>

    <tr>

      <td>v_version</td>

      <td> Version text <br>

Contains the N1GE version when the database model has been changed to
this version </td>

    </tr>

    <tr>

      <td>v_time</td>

      <td>Timestamp of the upgrade to this version</td>

    </tr>

  </tbody>
</table>

</p>

<p>Use a sql util the show the content of this table:
</p>

<p> * oracle
</p>

<pre> % sqlplus arco_write@arco.dbhost<br><br>SQL*Plus: Release 9.0.1.0.0 - Production on Fri Apr 1 08:07:04 2005<br><br>(c) Copyright 2001 Oracle Corporation. All rights reserved.<br><br>Enter password:<br><br>Connected to:<br>Oracle9i Enterprise Edition Release 9.0.1.0.0 - Production<br>With the Partitioning option<br>JServer Release 9.0.1.0.0 - Production<br><br>SQL&gt; select * from sge_version;<br><br> V_ID V_VERSION V_TIME<br>---------- -------------------------------------------------- ---------<br> 1 6.0u1 03-JAN-05<br></pre>

<ul>

  <li> postgres
  </li>

</ul>

<pre>% psql -h dbhost arco arco_write<br>Password:<br>Welcome to psql 7.3.2, the PostgreSQL interactive terminal.<br><br>Type: \copyright for distribution terms<br> \h for help with SQL commands<br> \? for help on internal slash commands<br> \g or terminate with semicolon to execute query<br> \q to quit<br><br>arco=&gt; select * from sge_version;<br> v_id | v_version | v_time<br>------+-----------+----------------------------<br> 1 | 6.0u1 | 2005-01-17 14:42:25.263466<br>(1 row)<br><br>arco=&gt;<br></pre>

<h3><a name="How_do_I_query_the_average_cpu_u"> </a>
How do I query the average cpu usage of all jobs requesting resource
'foo' </h3>

<p>
The following query returns the job number of all job requesting
resource 'foo'
</p>

<pre>select distinct j_job_number from sge_job, sge_job_request<br>where j_id = jr_parent and jr_variable = 'foo'<br></pre>

<p>
The cpu usage of a job is stored in the table sge_job_usage. The
average cpu usage of all jobs requesting resource 'foo' can be
calculated by joining the table sge_job_usage and sge_job_request:
</p>

<pre>select AVG(ju_cpu) from sge_job_usage, sge_job_request<br>where ju_parent = jr_parent and jr_variable = 'foo'<br></pre>

<h2><a name="Installation_issues"> </a>
Installation issues </h2>

<p>
</p>

<h3><a name="Installation_description_of_Dunc"> </a>
Installation description of Duncan Hardie and Peter Jenkins </h3>

<p>
<a href="http://dino.uk.sun.com/bin/view/PSEMEA/N1GridEngine6#ARCo" target="_top">http://dino.uk.sun.com/bin/view/PSEMEA/N1GridEngine6#ARCo</a>
</p>

<h3><a name="Installation_with_Oracle"> </a>
Installation with Oracle </h3>

<p>
<a href="http://n1wiki.sfbay.sun.com/bin/view/GE/InstallationOracle" target="_top">http://n1wiki.sfbay.sun.com/bin/view/GE/InstallationOracle</a><br>

</p>

<h3><a name="Database"> </a> Database </h3>

<h4><a name="Installation_from_http_www_Blast"> </a>
Installation from <a href="http://www.Blastwave.org" target="_top">http://www.Blastwave.org</a> </h4>

<ol>

  <li> Download the <a href="http://www.blastwave.org/pkg_get.pkg">pkg-get</a>
package
  </li>

  <li> Install the pkg-get package (as root)
  </li>

</ol>

<pre> # pkgadd -d &lt;download_dir&gt;/pkg_get.pkg<br> ....<br></pre>

<p> 3. add <code>/opt/csw/bin</code> to path
</p>

<pre> # setenv PATH ${PATH}:/opt/csw/bin<br><br></pre>

<ol type="4">

  <li> Adjust the configuration file <code>/opt/csw/etc/pkg-get.conf</code>
(for details see <a href="http://www.blastwave.org/pkg-get.php">CSW
- pkg-get quick install page</a>), especially proxy settings.
  </li>

</ol>

<p> 5. Install the postgresql package
</p>

<pre># pkg-get -i postgresql<br></pre>

<p> The postgres binaries will be installed in /opt/csw/bin.
</p>

<p> If not yet installed, the packages CSWcommon, CSWisaexec,
CSWossl, CSWreadline and CSWzlib will be installed as well.
</p>

<p> The postgresql installation will create a user postgres.
</p>

<p> 6. Activate the postgres user account
</p>

<pre> # mkdir /opt/csw/var/pgdata<br> # chown postgres /opt/csw/var/pgdata<br></pre>

<p> 7. Initialize the postgresql database
</p>

<pre> # su postgres<br> &gt; initdb -D /opt/csw/var/pgdata<br></pre>

<p> 8. Setup access permissions
</p>

<pre> &gt; vi /opt/csw/var/pgdata/pg_hba.conf<br>local all all trust<br>host all all 127.0.0.1 255.255.255.255 trust<br>host all arco_write 129.157.141.0 255.255.255.0 md5<br>host all arco_read 129.157.141.0 255.255.255.0 md5<br># for sr-ergb01-01<br>host all arco_write 129.157.140.10 255.255.255.255 md5<br>host all arco_read 129.157.140.10 255.255.255.255 md5<br></pre>

<p> 9. Startup postmaster daemon (in background, allow socket
connections)
</p>

<pre> &gt; postmaster -S -i -D /opt/csw/var/pgdata<br></pre>

<p> 10. Create users and database for ARCo
</p>

<pre> &gt; createuser -P arco_write<br> &gt; createuser -P arco_read<br> &gt; createdb -O arco_write arco<br></pre>

<ul>

  <li> <a href="https://n1wiki.sfbay.sun.com/pub/GE/Arco/postgres" target="_top">postgres</a>: Postgres Startup script</li>

</ul>

<h2><a name="Sample_queries"> </a> Sample
queries </h2>

The following is a gzip'ed tar file which contains a number of queries
for ARCO. They include some of the built-in, simple queries that come
with a standard ARCO installation, as well as some more advanced
queries that illustrate some more sophisticated reports. Please study
the individual queries for further information.
<ul>

  <li> <a href="contrib/arco_queries.tar.gz" target="_top">arco_queries.tar.gz</a>: customized ARCO
queries
  </li>

</ul>

<h3><br>

</h3>

<h2></h2>

<h2><a name="ARCo_View_Definitions"> </a>
ARCo View Definitions </h2>

<h3><a name="view_accounting"> </a>
view_accounting </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> job_number </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
integer </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Unique record identifier </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> task_number </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
integer </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Array task id </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> pe_taskid </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
ID of a task of a tightly integrated parallel task </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> name </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
job name (script name or value set with the submit option -N) </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> groupname </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
UNIX group name of the promary group the job was executed in.
References the group table. </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> username </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
UNIX user account the job was running in. References the user table. </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> account </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Account string set with the submit option -A </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> project </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Project, References the project table </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> department </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Department, References the department table </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> submission_time </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Time of the job submission </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> start_time </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Time when the job was started </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> end_time </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestemp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Time when the job finished </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> wallclock_time </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
integer </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
end_time - start_time </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> cpu </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
The CPU time usage in seconds </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> io </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
The amount of data transferred in input/output operations </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> iow </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
The io wait time in seconds </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> maxvmem </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
The maximum vmem size in bytes </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> wait_time </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
integer </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
start_time - submission_time </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> turnaround_time </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
integer </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
end_time - submission_time </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_job_times"> </a>
view_job_times </h3>

<p>
same as view_accounting
</p>

<h3><a name="view_jobs_completed"> </a>
view_jobs_completed </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> completed </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
integer </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Completed jobs </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Time when the jobs finished </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_job_log"> </a> view_job_log
</h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> job_number </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
integer </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
JOB_ID </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> task_number </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
integer </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Array task id </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> pe_taskid </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
ID of a task of a tightly integrated parallel task </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> name </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
job name (script name or value set with the submit option -N) </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> username </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
UNIX group name of the primary group the job was executed in.
References the group table </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> account </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
UNIX user account the job was running in. References the user table </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> project </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Project. References the project table </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> department </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Department. References the department table </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
&nbsp; </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Unix timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Time when the job logging entry was generated </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> event </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Event being recorded </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> state </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Job state after the reported event </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> initiator </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
User who initiated action for the event </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> host </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Host on with the event action was initiated </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> message </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
A message explaining what happened </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_department_values"> </a>
view_department_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> department </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Name of the department </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_start </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_end </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> variable </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable name, e.g. h_sum_jobs </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> str_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Varaible value, e.g. 5 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_config </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_group_values"> </a>
view_group_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> groupname </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Name of the group </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_start </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_end </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestemp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> variable </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable name, e.g. h_sum_jobs </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> str_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable value, e.g. 53 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_config </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_host_values"> </a>
view_host_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> hostname </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
The hostname </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_start </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_end </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> variable </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable name, e.g. load_avg </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> str_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable value, e.g. 0.34 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_config </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_project_values"> </a>
view_project_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> project </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Name of the project </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_start </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_end </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> variable </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable name, e.g. h_avg_cpu </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> str_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable value, e.g. 345.5 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_config </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_queue_values"> </a>
view_queue_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> qname </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Name of the queue </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> hostname </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Name of host </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_start </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_end </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> variable </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable name, e.g. slots </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> str_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value, e.g. 5 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_config </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><a name="view_user_values"> </a>
view_user_values </h3>

<p>
<table border="0" cellpadding="0" cellspacing="1" frame="void">

  <tbody>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> Column </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Type </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Description </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> username </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Name of the user </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> time_start </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Start time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> time_end </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
timestamp </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
End time for the validity of a value </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> variable </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
text </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable name, e.g. h_sum_cpu </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> str_value </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
text </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
Variable value, e.g. 23.2 </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#bdbec0"><font color="#000000"> num_value </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
double precision </font></td>

      <td bgcolor="#bdbec0"><font color="#000000">
Variable value as number </font></td>

    </tr>

    <tr>

      <td class="twikiFirstCol" bgcolor="#ffffff"><font color="#000000"> num_config </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
double precision </font></td>

      <td bgcolor="#ffffff"><font color="#000000">
In case of consumables: Consumable maximum available value (configured
value) </font></td>

    </tr>

  </tbody>
</table>

</p>

<h3><br>
</h3>
<h3><a name="ARCo_setup_example_for_ORACLE"></a>ARCo
setup example for ORACLE</h3>
<h4><a name="Prerequisites"> </a> Prerequisites </h4>


<ul>

  <li> N1GE 6.0u1 is installed in <code>/opt/sge</code>
  </li>

  <li> Name of the SGE_CELL is <code>default</code>
  </li>

  <li> JDK1.4.2 is installed in <code>/usr/j2sdk1.4.2</code>
  </li>

  <li> Sun Web Console 2.2.x is installed on <code>swchost</code>
  </li>

  <li> Name of the oracle host is <code>oraclehost</code>
  </li>

  <li> Port of the oracle database is <code>1521</code>
  </li>

  <li> Name of the oracle database is <code>arco</code>
  </li>

  <li> Database user <code>arco_write</code> exists,
password is known, schema of this user is <code>arco_write</code>
  </li>

  <li> Database user arco_read exits, password is known, schema
of this user is <code>arco_read</code>
  </li>

</ul>


<h4><a name="Create_database_accounts"> </a>
Create database accounts </h4>

<p>
The ARCo modules uses two database users (arco_write and arco_read).
Due to the versatile configuration possibilities of oracle we can give
here only a example how to setup the database accounts. Please the
oracle documenation for futher information. Use your favorite
sql util the execute the following sql statements.
</p>

<p></p>

<pre>CREATE USER "ARCO_WRITE" PROFILE "DEFAULT" IDENTIFIED BY "&lt;secret password&gt;" <br> DEFAULT TABLESPACE "USERS" TEMPORARY TABLESPACE "TEMP" QUOTA 100 M ON "USERS" ACCOUNT UNLOCK;<br><br>CREATE USER "ARCO_READ_XX" PROFILE "DEFAULT" IDENTIFIED BY "arco_read" <br> DEFAULT TABLESPACE "USERS" TEMPORARY TABLESPACE "TEMP" QUOTA 100 M ON "USERS" ACCOUNT UNLOCK;<br></pre>

<p>
The arco_write users needs the priviliges to create the sge_* tables
and views in it's own database schema (the tables will be created
during the dbwriter setup).
</p>


<pre>GRANT CREATE TABLE TO "ARCO_WRITE";<br>GRANT CREATE VIEW TO "ARCO_WRITE";<br></pre>

<p>
The arco_read user is used by the ARCo webapplication. For security
issues this user should have a minimum set of privileges. All other
privileges will be granted during the installation of the dbwriter.
</p>


<pre>GRANT CREATE SESSION TO "ARCO_WRITE;<br></pre>

<p>
In oracle each database user uses it's own database schema. To make it
possible that the arco_read users has access to the sge_* tables and
views during the installation of the dbwriter some synonmys are created
in the schema of the arco_read users (A synonmy can seen as link from
one table/view to a another). The arco_write user needs the privilege
to setup these synonms.
</p>


<pre>GRANT CREATE ANY SYNONYM TO "ARCO_WRITE";<br></pre>

<h4><a name="Unpack_the_arco_package"> </a>
Unpack the arco package </h4>


<pre> # cd /opt/sge<br> # tar xf /tmp/sun_sge6_dist/n1ge-6_0u1-arco.tar<br></pre>


<ol type="3">

  <li> Install the dbwriter
  </li>

</ol>


<pre> # cd dbwriter<br> # ./inst_dbwriter<br>Welcome to the Grid Engine installation<br>---------------------------------------<br><br>Grid Engine dbWriter installation<br>---------------------------------<br>The dbWriter installation will take approximately 5 minutes<br><br>Hit &lt;RETURN&gt; to continue &gt;&gt; <br><br>Generic Parameters<br>------------------<br><br>Please enter your SGE_ROOT [/opt/sge] &gt;&gt;<br> <br>Please enter your SGE_CELL [default] &gt;&gt; <br>Please enter the path to your java 1.4 installation [/user/j2sdk1.4.2] &gt;&gt; <br><br>Setup your database connection parameters<br>-----------------------------------------<br><br>Enter your database type ( o = Oracle, p = PostgreSQL ) [p] &gt;&gt; o<br><br><br>Please enter the name of your oracle db host [] &gt;&gt; oraclehost<br><br><br>Please enter the port of your oracle db [1521] &gt;&gt; <br><br>Please enter the name of your oracle database [arco] &gt;&gt; <br><br>Please enter the name of the database user [arco_write] &gt;&gt; <br><br>Please enter the password of the database user &gt;&gt; <br>Please retype the password &gt;&gt; <br><br>Please enter the name of the database schema [arco_write] &gt;&gt; <br><br>Search for the jdbc driver oracle.jdbc.driver.OracleDriver <br>in directory /opt/sge/dbwriter/lib ...........<br>jdbc driver not found in any jar file of directory /sopt/sge/dbwriter/lib<br>Please copy your driver jar into the directory /opt/sge/dbwriter/lib<br><br></pre>

<p>
Open another terminal and copy the oracle jdbc driver into <code>/opt/sge/dbwriter/lib</code>
</p>

<p></p>

<pre> # cp &lt;OraHome&gt;/jdbc/lib/classes12.jar /opt/sge/dbwriter/lib<br></pre>

<p>
Press enter in the shell with the dbwriter installation
</p>


<pre>Search for the jdbc driver oracle.jdbc.driver.OracleDriver in directory /scratch3/rh150277/31002/sge/dbwriter/lib .<br>found in /scratch3/rh150277/31002/sge/dbwriter/lib/classes12.jar<br>Should the connection to the database be tested? (y/n) [y] &gt;&gt; y<br>Test db connection to 'jdbc:oracle:thin:@oraclehost:1521:arco' ... OK<br></pre>

<p> In the next step the dbwriter installation determines the
version of the ARCo database model. For N1GE6u1 the version of the
database model is 1.
</p>


<pre>Query db version ... no sge tables found<br>New version of the database model is needed<br><br>Should the database model be upgraded to version 1? (y/n) [y] &gt;&gt; <br><br></pre>

<p> In my case the schema of the user arco_write contains no
tables. The installation will create all necessary tables. The <code>arco_read</code>
has it's own database schema, some grants and synonms will be created
for this user.
</p>


<pre>The ARCo web application connects to the database<br>with a user which has restricted access.<br>The name of this database user is needed to grant<br>him access to the sge tables.<br><br>Please enter the name of this database user [arco_read] &gt;&gt;<br><br>Upgrade to database model version 1 ... Install version 6.0 (id=0) -------<br>Create table sge_job<br>Create index sge_job_idx0<br>Create index sge_job_idx1<br>create table sge_job_usage<br>Create table sge_job_log<br>Create table sge_job_request<br>Create table sge_queue<br>Create index sge_queue_idx0<br>Create table sge_queue_values<br>Create index sge_queue_values_idx0<br>Create table sge_host<br>Create index sge_host_idx0<br>Create table sge_host_values<br>Create index sge_host_values_idx0<br>Create table sge_department<br>Create index sge_department_idx0<br>Create table sge_department_values<br>Create index sge_department_values_idx0<br>Create table sge_project<br>Create index sge_project_idx0<br>Create table sge_project_values<br>Create index sge_project_values_idx0<br>Create table sge_user<br>Create table sge_user_values<br>Create index sge_user_values_idx0<br>Create table sge_group<br>Create index sge_group_idx0<br>Creat table sge_group_values<br>Create index sge_group_values_idx0<br>Create table sge_share_log<br>Create view view_accounting<br>Create view view_job_times<br>Create view view_jobs_completed<br>Create view view_job_log<br>Create view view_department_values<br>Create view view_group_values<br>Create view_host_values<br>Create view view_project_values<br>Create view view_queue_values<br>Create view view_user_values<br>grant privileges on sge_department to arco_read<br>grant privileges on sge_department to arco_read<br>grant privileges on sge_group to arco_read<br>grant privileges on sge_group_values to arco_read<br>grant privileges on sge_host to arco_read<br>grant privileges on sge_host_values to arco_read<br>grant privileges on sge_job to arco_read<br>grant privileges on sge_job_log to arco_read<br>grant privileges on sge_job_request to arco_read<br>grant privileges on sge_job_usage to arco_read<br>grant privileges on sge_project to arco_read<br>grant privileges on sge_project_values to arco_read<br>grant privileges on sge_queue to arco_read<br>grant privileges on sge_queue_values to arco_read<br>grant privileges on sge_share_log to arco_read<br>grant privileges on sge_user to arco_read<br>grant privileges on sge_user_values to arco_read<br>grant privileges on view_accounting to arco_read<br>grant privileges on view_department_values to arco_read<br>grant privileges on view_group_values to arco_read<br>grant privileges on view_host_values to arco_read<br>grant privileges on view_job_log to arco_read<br>grant privileges on view_job_times to arco_read<br>grant privileges on view_jobs_completed to arco_read<br>grant privileges on view_project_values to arco_read<br>grant privileges on view_queue_values to arco_read<br>grant privileges on view_user_values to arco_read<br>create synonym sge_department for user arco_read<br>create synonym sge_department_values for user arco_read<br>create synonym sge_group for user arco_read<br>create synonym sge_group_values for user arco_read<br>create synonym sge_host for user arco_read<br>create synonym sge_host_values for user arco_read<br>create synonym sge_job for user arco_read<br>create synonym sge_job_log for user arco_read<br>create synonym sge_job_request for user arco_read<br>create synonym sge_job_usage for user arco_read<br>create synonym sge_project for user arco_read<br>create synonym sge_project_values for user arco_read<br>create synonym sge_queue for user arco_read<br>create synonym sge_queue_values for user arco_read<br>create synonym sge_share_log for user arco_read<br>create synonym sge_user for user arco_read<br>create synonym sge_user_values for user arco_read<br>create synonym view_accounting for user arco_read<br>create synonym view_department_values for user arco_read<br>create synonym view_group_values for user arco_read<br>create synonym view_host_values for user arco_read<br>create synonym view_job_log for user arco_read<br>create synonym view_job_times for user arco_read<br>create synonym view_jobs_completed for user arco_read<br>create synonym view_project_values for user arco_read<br>create synonym view_queue_values for user arco_read<br>create synonym view_user_values for user arco_read<br>commiting changes<br>version 6.0 (id=0) successfully installed<br>Install version 6.0u1 (id=1) -------<br>Create table sge_version<br>Update view view_job_times<br>Update version table<br>commiting changes<br>version 6.0u1 (id=1) successfully installed<br>OK<br><br>Please enter the interval between two dbwriter runs in seconds [60] &gt;&gt;<br><br>Please enter the file with the derived value rules [$SGE_ROOT/dbwriter/database/oracle/dbwriter.xml] &gt;&gt;<br><br>The dbWriter can run with different debug levels<br>Possible values: WARNING INFO CONFIG FINE FINER FINEST<br>Please enter the debug level of the dbwriter [INFO] &gt;&gt; <br><br>All parameters are now collected<br>--------------------------------<br><br> SGE_ROOT=/opt/sge<br> SGE_CELL=default<br> JAVA_HOME=/usr/j2sdk1.4.2 (java version "1.4.2")<br> DB_URL=jdbc:oracle:thin:@oraclehost:1521:arco<br> DB_USER=arco_write<br> INTERVAL=60<br>REPORTING_FILE=$SGE_ROOT/$SGE_CELL/common/reporting<br> DERIVED_FILE=$SGE_ROOT/dbwriter/database/oracle/dbwriter.xml<br> DEBUG_LEVEL=INFO<br><br>Are this settings correct? (y/n) [y] &gt;&gt; y<br>Create start script sgedbwriter in /opt/sge/dbwriter/bin<br><br>Create configuration file for dbWriter in /opt/sge/default/common<br>Installation of dbWriter completed<br>Start the dbWriter with /opt/sge/dbwriter/bin/sgedbwriter start<br><br></pre>

<p> The installation of dbwriter is now finished. Start the
dbwriter
</p>


<pre> # /opt/sge/dbwriter/bin/sgedbwriter start<br></pre>

<p> The log file of the dbwriter is in
$SGE_ROOT/$SGE_CELL/spool/dbwriter/dbwriter.log
</p>


<pre> # tail -f $SGE_ROOT/$SGE_CELL/spool/dbwriter/dbwriter.log<br>22/09/2004 08:47:46|balrog|.ReportingDBWriter.initLogging|I|Starting up ReportingDBWriter<br>22/09/2004 08:47:50|balrog|e.ReportFileReader.processFile|I|Renaming reporting to reporting.processing<br>22/09/2004 08:48:04|balrog|BWriter$DerivedValueThread.run|I|Next regular task (derived values and delete) will be done at 9/22/04 9:11 AM<br>22/09/2004 08:48:22|balrog|ile.ReportFileReader.parseFile|I|Deleting file reporting.processing<br>22/09/2004 08:48:23|balrog|ile.ReportFileReader.parseFile|I|Processed 327 lines in 32.54s (10.05 lines/s)<br>...<br></pre>


<h2><a name="Install_the_ARCo_reporting_modul"> </a>
Install the ARCo reporting module </h2>

<p>
</p>

<ul>

  <li> become root
  </li>

</ul>

<p> </p>

<pre> # su<br> Password:<br> #<br><br> # cd /opt/sge/reporting<br><br>Welcome to the N1 SGE reporting module installation<br>----------------------------------------------------<br>The installation will take approximately 5 minutes<br><br>Hit &lt;RETURN&gt; to continue &gt;&gt; <br><br>Please enter the path to your java 1.4 installation [/usr/j2sdk1.4.2] &gt;&gt;<br>Spool directory<br>---------------<br><br>In the spool directory the N1 SGE reporting module will<br>store all queries and results<br><br>Please enter the path to the spool directory [/var/spool/arco] &gt;&gt;<br>Database Setup<br>--------------<br><br>Enter your database type ( o = Oracle, p = PostgreSQL ) [p] &gt;&gt; o<br><br>Please enter the name of your oracle db host [] &gt;&gt; oraclehost<br><br>Please enter the port of your oracle db [1521] &gt;&gt; <br><br><br>Please enter the name of your oracle database [arco] &gt;&gt; <br><br>Please enter the name of the database user [arco_read] &gt;&gt; <br><br>Please enter the password of the database user &gt;&gt; <br>Please retype the password &gt;&gt;<br><br>Search for the jdbc driver oracle.jdbc.driver.OracleDriver <br>in directory /opt/sge/reporting/WEB-INF/lib .................<br>jdbc driver ... not found in any jar file of directory /opt/sge/reporting/WEB-INF/lib<br>Please copy your driver jar into the directory /opt/sge/reporting/WEB-INF/lib<br>Press enter to continue &gt;&gt; <br><br>Search for the jdbc driver oracle.jdbc.driver.OracleDriver <br>in directory /scratch3/rh150277/31002/sge/reporting/WEB-INF/lib ...<br>found in /scratch3/rh150277/31002/sge/reporting/WEB-INF/lib/classes12.jar<br><br>Should the connection to the database be tested? (y/n) [y] &gt;&gt; y<br>Test db connection to 'jdbc:oracle:thin:@bilbo:1521:arco' ... OK<br><br></pre>

<p> In the next step you have to define users with write
permission in the reporting module:
</p>


<pre>Configure users with write access<br>---------------------------------<br>Enter a login name of a user (Press enter to finish) &gt;&gt; user1<br>Users: user1<br>Enter a login name of a user (Press enter to finish) &gt;&gt; user2<br>Users: user2 user2<br>Enter a login name of a user (Press enter to finish) &gt;&gt; <br><br>All parameters are now collected<br>--------------------------------<br> SPOOL_DIR=/var/spool/arco<br> DB_URL=jdbc:oracle:thin:@oraclehost:1521:arco<br> DB_USER=arco_read<br>ARCO_WRITE_USERS=user1 user2<br><br>Are this settings correct? (y/n) [y] &gt;&gt; y<br><br>Shutting down Sun(TM) Web Console Version 2.2.1...<br>Found old versions of the N1 SGE reporting module<br>-------------------------------------------------<br>Should the application com.sun.grid.arco_6 be deleted? (y/n) [n] &gt;&gt; y<br><br><br> Unregistering com.sun.grid.arco_6.<br><br><br>Directory /var/spool/arco does not exist, create it? (y/n) [y] &gt;&gt; <br><br>reate directory /var/spool/arco<br>Create directory /var/spool/arco/queries<br>Copy predefined queries into /var/spool/arco/queries<br>Create directory /var/spool/arco/results<br>Create directory /scratch3/rh150277/31002/sge/reporting/charts<br>Create directory /scratch3/rh150277/31002/sge/reporting/export<br>Register the N1 SGE reporting module in the webconsole<br><br> Registering com.sun.grid.arco_6u1.<br><br>Starting Sun(TM) Web Console Version 2.2.1...<br>See /var/log/webconsole/console_debug_log for server logging information<br></pre>

<p> Open your browser and go to the url <a href="https://reporting_host:6789" target="_top">https://reporting_host:6789</a>
</p>

<p></p>

</body>
</html>
